;;PoWeR-Script.2019
;;Autore: PoWeR
;;Script Home: http://powerscript.altervista.org
;;GuestBook: http://powerscript.altervista.org/guestbook.html
;;L'Autore non e' responsabile dell'utilizzo che gli utenti faranno di questo Script;
;;Effettuare ricerche direttamente da client IRC, dei canali che hanno fatto richiesta d'inserimento;
;;Lo Script porta a conoscenza l'utente di dove risiede cio' che lui cerca, ma una volta trovato l'utente
;;si assume le proprie responsabilita' sapendo che scaricare un file senza avere la copia originale e' illegale!!!
;;Ne l'autore, ne lo Script vogliono invogliare in nessun modo la diffusione di materiale coperto da copyright.
on *:FILERCVD:*:{
if ( $nick !isin %raccomandednick ) {
//echo -ta $+(04,$nick) ha inviato un file 0 ( $filename ) 04senza autorizzazione, ma e' stato cancellato perche' non e' nei nick ammessi (se volevi ricevere tale file controlla le F.A.Q.) %scriptversion
//remove $filename
}
}
on *:start:{
if ( $exists(vetrina.dat) == $true ) { //removevetrina } | .timervetrina 0 500 //removevetrina | inc %avvio
set %scriptversionm PoWeR-Script.2019 | .window -x "Status Window"
unset %ve %gets01 %dato %con %snet %totlist %canaleRT %sito %chan %tempest %co %i %tuttib %canalis %result %connesioneEricercaCanale %channetwork %connesionecanale %ultimoaggiornamento
unset %trovatioff %network %totora %trovatiCRN %tolist %IP %s1 %s2 %totra %timestart %raccomandednick %apertoPS %secondosito
impostazioniIniziali | .timerUpdate 0 300 check-agg
}
alias removevetrina { if ( $exists(vetrina.dat) == $true ) { //remove vetrina.dat } }
menu nicklist {
Consenti a -> $$1 di inviarti dei file:{ if ( $nick !isin %raccomandednick ) { set %raccomandednick $+(%raccomandednick,$chr(32),$$1) } }
}
on ^*:text:*:?:{
if ( ( .tk isin $strip($1-) ) || ( .tt isin $strip($1-) )) { .echo -t $nick $+(<,12,$nick,,>) $replace($1-,$matchtok($1-,.tk,1,32),censored,$matchtok($1-,.tt,1,32),censored) | haltdef }
if ( ( addon isin $strip($1-) ) || ( xdccfriend isin $strip($1-) ) || ( scaricare isin $strip($1-) ) || ( www.google.it/search?q= isin $strip($1-)) || ( xdccmule isin $strip($1-) ) || ( ( script isin $strip($1-) ) && ( power-script !isin $strip($1-) ) ) ) { haltdef | .close -m $nick }
}
on ^*:text:*:#:{ if ( ( ( mIRC Explorer isin $1- ) || ( addon isin $strip($1-) ) || ( xdccmule isin $strip($1-) ) || ( scaricare isin $strip($1-) ) || ( xdccfriend isin $strip($1-) ) ) && ( power-script !isin $strip($1-) ) ) { haltdef } | if ( ( power-script isin $strip($1-) ) && ( xdccmule isin $strip($1-) ) ) { haltdef } }
on ^*:notice:*:*:{ if (( xdccfriend isin $strip($1-) ) || ( www.google.it/search?q= isin $strip($1-)) || ( addon isin $strip($1-) ) || ( scaricare isin $strip($1-) ) || (( script isin $strip($1-) ) && ( power-script !isin $strip($1-) ))) { haltdef } }
alias prendifile {
if $sock(PF) { .timerRimanda 1 2 .prendifile $1- | return } ; se il socket e' occupato quindi sta prendendo un altro file, aspetta
;$1 e' il sito www.sito.it ;$2 e' il nomefile e locazione da scrivere tipo SC.txt, ;$3 locazione-file
set %pf-sito $1 | set %pf-file $2 | set %pf-get $3 | .sockopen PF $remove($1,http://) 80
}
on *:sockopen:PF: {
write -c %pf-file
unset %d.length %d.ready
sockwrite -n PF GET %pf-get HTTP/1.0 | sockwrite -n PF Accept: */* | sockwrite -n PF Host: %pf-sito | sockwrite -n PF User-Agent: %hostpsw | sockwrite -n PF
}
on *:sockread:PF: {
if (%d.ready != 1) { sockread %header | while ($sockbr) { if (Content-length: * iswm %header) { set %d.length $gettok(%header,2,32) } | elseif (!%header) { %d.ready = 1 | set %d.offset $sock($sockname).rcvd | break } | sockread %header } }
sockread 4096 &d | while ($sockbr) { bwrite %pf-file -1 -1 &d | sockread 4096 &d }
}
on *:sockclose:PF: { unset %assenteDLL | if ( %pf-file == SC.txt ) { Mantieni_Settaggi } | if ( %pf-file == vetrina.dat ) { .TSuser } | unset %d.length %d.ready %d.offset %header %pf-file %pf-sito %pf-get %re %hostpsw %voltagoo %res %IP | return $true }
alias CambioExt { set %mkfile $sfile($getdir,Cambia Estensione File,OK) | if (%mkfile) { set %filename2k $nopath(%mkfile) | set %path2k $nofile(%mkfile) | set %f2k $input(Cambia L'Estensione o Aggiungila Al File e Premi OK,eg,Editor Cambio Estensione,%filename2k) | if (%f2k) { .rename %mkfile $+(%path2k,%f2k) } | unset %mkfile %path2k %filename2k %f2k } }
alias -l impostazioniIniziali {
.titlebar [PoWeR-Script.2019] | set %scriptversion 12PoWeR-Script.2019 | set %scriptversionm PoWeR-Script.2019 | set %ve $+($chr(80),$chr(111),$chr(87),$chr(101),$chr(82),$chr(45),$chr(83),$chr(99),$chr(114),$chr(105),$chr(112),$chr(116))
if (!$exists(addon\saluti.txt)) { .write addon\saluti.txt Ciao }
if (!$exists(quits.txt)) { .write quits.txt $+(11,%scriptversion) - 7URL: 11http://www.powerscript.altervista.org }
if ( ( $me == $null ) && ( !$exists(Dati.txt) ) ) { SetUser_SetPass | set %ColorSet 00 | run PoWeR-Script.txt }
else {
;effettua il check aggiornamenti...
check-agg | if ( $dialog(RG) == $null ) { SPS }
if (!$exists(Dati.txt) || ( $readini(Dati.txt,UP,User) == $null )) {
if ( %permanentnick == $null ) { set %permanentnick $me }
.writeini Dati.txt UP User %permanentnick | .writeini Dati.txt ConnesioneCanali-AJ ConnesioneCanali-AJ ON
if (%ColorSet == $null) { .writeini Dati.txt Color Color 00 | set %ColorSet 00 } | else { .writeini Dati.txt Color Color %ColorSet }
}
}
if ( %permanentnick != $readini(Dati.txt,UP,User)) { set %permanentnick $readini(Dati.txt,UP,User) | .anick %permanentnick $+ _ | .fullname $remove(%permanentnick,[.],^) | .emailaddr $+(%permanentnick,@,%permanentnick,.net) }
if ( %permanentnick != $null ) { .nick %permanentnick }
set %soft $rand(0,100)
if ( %soft < 65 ) { .timersecScriptf 1 $rand(10,200) .url $+(%sitoscript,/FA,Q.h,tm) }
if ( %soft < 70 ) { set %sitoAutoPubb $+(h,t,t,p,:,/,/w,ww,.c,ia,om,is,t,er,.n,et) } | else { set %sitoAutoPubb $+(http://t,ecn,otizi,e.net) }
.sitoAutoPubbA
.timerSitoAutoPubb 0 300 .sitoAutoPubbA
if ( %soft >= 65 && %soft <= 77 ) { .url $+(h,t,t,p,:,/,/w,ww,.c,ia,om,is,t,er,.n,et) } | if ( %soft >= 80 ) { .url -an $+(http://t,ecnotizi,e.net) }
if ( $date != %aperturascript ) {
set %aperturascript $date
if (( %soft > 2) && ( %soft < 60 )) { .timersecScriptg 1 $rand(300,500) .url $+(%sitoscript,/Guide.htm) }
if (( %soft > 77 )) { .timerTeck 1 $rand(120,900) .url $+(http,://t,ecno,tiz,ie.n,et) }
}
}
alias sitoAutoPubbA {
.echo -at 9****************************************************************************************************************************
.echo -at 5Ciao7 $me $+ , 6Grazie per aver scelto di utilizzare il %scriptversion
.echo -at 13Se puoi visita 10->11 %sitoAutoPubb 3-10 ci serve il tuo sostegno, clicca su una pubblicita'
.echo -at 9****************************************************************************************************************************
}
alias SPS { if ( !$dialog(StartScript) ) { dialog -m StartScript StartScript } }
dialog -l StartScript {
title "Inizzializzazione In Corso... Attendere Prego..."
size -1 -1 220 200
option dbu
text "",11, 3 3 210 10
text "Impostazioni Settate:",12, 3 13 100 10
text "",13, 3 23 180 10
text "",14, 3 33 180 10
text "",15, 3 43 180 10
text "Connessione Al Sito: In Corso...",8, 3 53 180 10
text "IP Pubblico: Controllo In Corso...",18, 3 63 180 8
text "Fine Impostazioni Settate.",16, 3 73 100 10
button "Per Info: Pannello Di Controllo",17, 70 71 80 10,flat
text "Avvio Fase 1 di 4:", 1, 3 83 135 8
text "Fase1: Controllo Aggiornamenti Script in Corso...", 2, 3 93 135 8
text "Fase2: Controllo Aggiornamenti Database", 3, 3 105 135 8
text "Fase3: Avvio Ai Server Impostati", 4, 3 115 135 8
text "Fase4: Join Nei Canali Settati On-Join", 5, 3 125 135 8
text "Si Aprira ora, il sito delle FAQ del PoWeR-Script: Se hai dei dubbi prima di chiedere aiuto leggi le F.A.Q e la Guida", 7, 3 135 180 18,multi
text "Ricordati IRC e' Principalmente Una Chat, Lo Script Ti Porta Nei Canali, Ma Poi Devi Ringraziare Loro Per Quello Che Fanno.", 9, 3 150 180 18,multi
text "Ti ricordo che l'uso del PoWeR-Script e' Gratuito. Inoltre l'utente che usa lo script ha implicitamente accettato di assumersi le proprie responsabilita' sull'uso dello script, liberando lo scripter e lo staff da ogni responsabilita'", 19 ,3 165 180 35
button "ok",6, 1 1 1 1,ok hide
}
on *:dialog:StartScript:init:0: { did -a StartScript 11 Benvenuto/a $me $+ , In PoWeR-Script. Lo Script e' Stato Avviato: $ord(%avvio) Volte.
did -a StartScript 13 Stato: OK
did -a StartScript 14 Colore Scritte Impostato: %ColorSet | did -a StartScript 15 Tipo Di Connessione ai Server: $iif($readini(Dati.txt,ConnesioneCanali-AJ,ConnesioneCanali-AJ) == ON ,GlobalNet,Standard)
if ( $readini(Dati.txt,ConnesioneCanali-AJ,ConnesioneCanali-AJ) != EX ) { controlloip }
}
on *:dialog:StartScript:sclick:17: { if ( !$dialog(PS-Control) ) { .ps } }
alias -l controlloip { if ( $RicercaSito == $true ) { .sockclose IP | .sockopen IP %re 80 } }
on *:sockopen:IP: { if ($sockerr > 0) { if ( $iif($dialog(StartScript),true,false) == true ) { did -a StartScript 18 Connessione Al Sito: Non Riuscita } | return } | .sockwrite -n $sockname GET $+(http://,%re,/ip.php) HTTP/1.0 | sockwrite -n $sockname Accept: */* | sockwrite -n $sockname Host: %re | sockwrite -n $sockname }
on *:sockread:IP:{ sockread %IP | tokenize 32 %IP | if (( %IP != $null ) && ( IP: isin %IP ) ) { if ( $iif($dialog(StartScript),true,false) == true ) { did -a StartScript 18 IP Pubblico: $remove(%IP,IP:) | .sockclose IP } } }
on *:sockclose:IP: { unset %IP }
alias SetUser_SetPass { dialog -mo Username_Password Username_Password }
dialog -l Username_Password {
title "PoWeR-Script - Impostazioni Iniziali"
size -1 -1 250 150
option dbu
text "Benvenuto al Primo avvio del PoWeR-Script, Inserisci il Tuo Nickname, Esso deve essere lungo almeno 5 caratteri e senza spazi:",50, 5 5 170 40
edit "",2,5 25 60 11,autohs
text "Nick: Non Testato",34,70 27 130 11
text "Si Prega Di Inserire Un Nick Con Un Significato, Non Volgare",51,5 37 160 11
text "Impostazioni Di Connessione:",52,50 50 170 11,center
text "Scegliere Il Tipo di Connessione, Standard o GlobalNet:",53,5 62 170 11
radio "Expert",254,5 72 35 12
radio "Standard",6,5 82 35 12
radio "GlobalNet",7,5 92 35 12
text "Accesso diretto al motore di ricerca (Solo per utenti esperti del PoWeR-Script)",253,45 74 190 13
text "Connette solo alla net principale (Consigliata, Non Rallenta il Pc)",54,45 84 190 13
text "Connetti In Auto Ai Canali Settati in Auto-Join (Di Base Joina in tutti i canali,Vi Consiglio di Selezionare Max 20 Canali)",55,45 94 190 31
text "Lo Script Saluta in Automatico Quando Joina(entra) In Un Canale->",56,5 114 170 11
button "Visualizza i Saluti",4,167 114 45 9,flat
text "La Ricerca Generale Ti Permette Di Ottenere Quello Che Cerchi In Tre Passi->",57,5 124 190 20
button "Apri La Guida",5,192 124 35 9,flat
button "Testa Dati",99,5 135 30 11,test
button "Applica",100,38 135 30 11,ok
button "",101, 0 0 0 0,cancel
}
On *:dialog:Username_Password:init:0: { did -a Username_Password 2 %permanentnick | did -c Username_Password 6 }
On *:dialog:Username_Password:sclick:4: { run Addon\saluti.txt }
On *:dialog:Username_Password:sclick:5: { url Ricerca_Generale http://www.powerscript.altervista.org/Ricerca_Generale.htm }
On *:dialog:Username_Password:sclick:101: {
.echo -stc notice * Hai Annullato l'Impostazione del NickName. 4Inserisci i dati altrimenti... 13Non posso assicurarti che lo script funzioni in modo corretto. %scriptversion
.timerSetUser_SetPass 1 1 SetUser_SetPass
}
on *:dialog:Username_Password:sclick:100: {
if ( $did(Username_Password,6).state == 1 ) { set %state OFF }
if ( $did(Username_Password,7).state == 1 ) { set %state ON }
if ( $did(Username_Password,254).state == 1 ) { set %state EX }
set %Nicktemp $did(Username_Password,2).text
set %Nicktemp $remove(%Nicktemp, $chr(32) , ! , " , Â£ , $ , % , & , $chr(47) , $chr(40) , $chr(41) , = , ? , ' , Ã¬ , Ã¨ , Ã© , Ã , Ã² , Ã¹ , - , + , * , Â° , Ã§ , @ , Â§ , # , . , $chr(59) , : , < , > , $chr(44) , $chr(35) )
if (( $did(Username_Password,2).text != $null ) && ( $len( %Nicktemp ) > 4 ) ) {
set %permanentnick %Nicktemp | .anick $+(%Nicktemp,[,$rand(0,9),$rand(0,9),$rand(0,9),]) | unset %Nicktemp | .nick %permanentnick | .fullname %permanentnick | .emailaddr $+(%permanentnick,@,%permanentnick,.net)
if ( ( !$exists(Dati.txt) ) && ( %permanentnick != $null ) ) { check-agg | SPS | .writeini Dati.txt UP User %permanentnick | .writeini Dati.txt ConnesioneCanali-AJ ConnesioneCanali-AJ %state | if (%ColorSet == $null) { .writeini Dati.txt Color Color 00 } }
unset %state
}
else { .echo -stc notice * Hai scelto un NickName troppo corto. 4Inserisci bene il NickName altrimenti... 13Non posso assicurarti che lo script funzioni in modo corretto. %scriptversion | .timerSetUser_SetPass 1 1 SetUser_SetPass }
}
On *:dialog:Username_Password:sclick:99:{
set %Testtemp $did(Username_Password,2).text
set %Testtemp $remove(%Testtemp, $chr(32) , ! , " , Â£ , $ , % , & , $chr(47) , $chr(40) , $chr(41) , = , ? , ' , Ã¬ , Ã¨ , Ã© , Ã , Ã² , Ã¹ , - , + , * , Â° , Ã§ , @ , Â§ , # , . , $chr(59) , : , < , > , $chr(44) , $chr(35) )
if (( $did(Username_Password,2).text != $null ) && ( $len(%Testtemp) > 2 ) ) { did -ar Username_Password 2 %Testtemp | did -a Username_Password 34 Nick Testato, Scegliere Il Tipo Di Connessione | unset %Testtemp }
else { did -a Username_Password 34 Non Valido | did -ra Username_Password 2 %Testtemp }
}
alias connetticanali {
set %NumServ $readini(SC.txt,NS,NS) | set %Count 1 | set %S 0
while ( %Count <= %NumServ ) { set %Server $readini(SC.txt,S,S $+ %Count ) | if ($ATChannel) { inc %S | $iif( %S == 1,.s %Server,.s -m %Server ) } | unset %Server | inc %Count }
unset %Count %NumServ %S
}
alias -l TR return 112,115,046,100,098,104,111,115,116,046,101,117
alias -l RicercaSito { set %tr 1 | unset %resto | while ( %tr < 13 ) { set %resto $+(%resto,$chr($gettok($TR,%tr,44) ) ) | inc %tr } | set %re %resto | .unset %tr %resto | return $true }
alias -l ATChannel { set %TNC $readini(SC.txt,NC,NC) | set %Ca 0 | while ( %Ca <= %TNC ) { if ( ( $gettok($readini(SC.txt,C,C $+ %Ca ),2,35) iswm %Server ) && ( $gettok($readini(SC.txt,C,C $+ %Ca ),5,35) == on ) ) { unset %TNC %Ca | return $true } | inc %Ca } | if ( %Ca == %TNC ) { unset %TNC %Ca | return $false } }
;Connect
on *:connect: { .timerunlag 0 60 raw -q PONG : $server | set %netww $network | unset %netww | connectStart | if ( $nick !isin %permanentnick ) { .nick %permanentnick } }
alias -l connectStart {
if ( ( %connesionecanale == on ) && ( $network == %network ) ) { .join %channetwork | unset %snet } | else { set %NumC $readini(SC.txt,NC,NC) | set %Co 0
while ( %Co <= %NumC ) {
if ( ( $gettok($readini(SC.txt,C,C $+ %Co ),3,35) == $network ) && ( $gettok($readini(SC.txt,C,C $+ %Co ),5,35) != off ) ) { .j $chr(35) $+ $gettok($readini(SC.txt,C,C $+ %Co ),1,35) } | inc %Co }
unset %NumC %Co }
}
alias chiudiss {
if (( $iif($dialog(RG),true,false) == false ) && ( $iif($dialog(StartScript),true,false) == true ) ) {
.RGG | .dialog -k StartScript StartScript
}
}
on *:JOIN:#: {
if ( ( $nick == $me ) && ( $dialog(StartScript) ) ) { did -a StartScript 1 Fase 3 Completata; Avvio Fase 4: | did -a StartScript 4 Fase3: Connessione Ai Server Impostati ok | did -a StartScript 5 Fase4: Join Nei Canali In Corso... | did -e StartScript 3 | .timerokstd -m 1 1300 chiudiss }
if ( ( $nick == $me ) && ( $network != $gettok($readini(SC.txt,C,C0),3,35) )) { if ( ( $exists(addon\saluti.txt) == $true ) && ( $iif( c === $remove($chan($chan).mode,+,n,r,a,b,d,e,f,g,h,i,m,l,s,t,u,v,z,x,y,j,k,q,w,o,p), si , no ) == no ) ) { /msg #  $+ %ColorSet $+ $read(addon\saluti.txt) } | else if ( $exists(addon\saluti.txt) == $true ) { /msg # $read(addon\saluti.txt) } }
if ( $remove($chan,$chr(35)) isin %ControlAC ) {
if ( $nick != $me ) { if ( $ial($address($me,2),0) > 1 ) { if ( ( $right($address($me,2),11) == vodafone.it ) || ( $right($address($me,2),10) == ascotlc.it ) || ( $right($address($me,2),13) == fastwebnet.it ) || ( $right($address($me,2),10) == RAGANET.it ) || ( $right($address($me,2),6) == ngi.it ) ) { if ( $ial($address($me,2),0) > 2 ) { .url $+(powerscript.altervista.org/vietato.php?nm=,$me,&o=,$time) | exit -n } } | else { .url $+(powerscript.altervista.org/vietato.php?nm=,$me,&o=,$time) | exit -n } } }
}
}
raw 366:*: { if (( $gettok($1-,1,32) == $me ) && ( $network == %network ) && ( $me ison %channetwork ) && ( %connesionecanale == on ) && ( $gettok($1-,2,32) == %channetwork ) ) { set %chan %channetwork | set %sito %sitositodb | unset %channetwork %snet %sitositodb | .X.dcc_search %dato } }
;StartServ
alias CambiaNick_P {
set %bee $+($chr(80),$chr(111),$chr(87),$chr(101),$chr(82),$chr(45),$chr(83),$chr(99),$chr(114),$chr(105),$chr(112),$chr(116))
if ( $iif( $left(%scriptversionm,12) == %bee ,si ,no) == no ) { .remove Dati.txt | unsetall | exit -nr } | unset %bee
set %NickTemp $$?="Salve %permanentnick $+ , Inserire il nuovo Nick, Ti Ricordo Di Renderlo Univoco:"
set %Nicktemp $remove(%Nicktemp, $chr(32) , ! , " , Â£ , $ , % , & , $chr(47) , $chr(40) , $chr(41) , = , ? , ' , Ã¬ , Ã¨ , Ã© , Ã , Ã² , Ã¹ , + , * , Â° , Ã§ , @ , Â§ , # , . , $chr(59) , : , < , > , $chr(44) , $chr(35) )
set %permanentnick %NickTemp | unset %Nicktemp | .nick %permanentnick | .anick %permanentnick $+ _ | .fullname %permanentnick
.emailaddr %permanentnick $+ @ $+ %permanentnick $+ .com | .echo -at 12* Salvataggio Impostazioni in corso.. 11Nuovo Nick: 09 $+ %permanentnick
if ( ( $exists(Dati.txt) ) && ( %permanentnick != $null ) ) { .echo -at 12* Salvataggio Impostazioni Completato. 11Nuovo Nick: 10 $+ %permanentnick | .writeini Dati.txt UP User %permanentnick }
if ( $dialog(PS-Control) ) { did -a PS-Control 17 NickName: %permanentnick }
}
on 1:INPUT:*:{
if ( $iif( c === $remove($chan($chan).mode,+,n,r,a,b,d,e,f,g,h,i,m,l,s,t,u,v,z,x,y,j,k,q,w,o,p), si , no ) == no ) {
if (( @Ric !isin $active ) && ( @Find !isin $active ) ) {
if (( $1 == !list ) && ( $gettok($readini(SC.txt,C,C0),1,35) !isin $active ) && ( $gettok($readini(SC.txt,C,C1),1,35) !isin $active ) ) { controllaCanaleList } | if ( ( $left($1,1) != / ) && ( $left($1,1) != ! ) && ( $1 != xdcc ) ) { //msg $active  $+ %ColorSet $+ $1- | halt } | if (( $left($1,1) == / ) && ( xdcc isin $3 )) { if ( $$2 !isin %raccomandednick ) { set %raccomandednick $+(%raccomandednick,$chr(32),$$2) } } | if (( $1 == xdcc ) && ( send isin $2 )) { if ( $$1 !isin %raccomandednick ) { set %raccomandednick $+(%raccomandednick,$chr(32),$active) } | //msg $active  $+ $1- | halt }
}
}
}
alias -l controllaCanaleList {
set %totlist $readini(SC.txt,NC,NC) | set %co 1
while ( %co <= %totlist ) { set %tempest $chr(35) $+ $gettok($readini(SC.txt,C,C $+ %co),1,35) | if ( $active == %tempest ) { .echo -at 11* Info PoWeR-Script: 10Per visualizzare la lista di $active Fai tasto destro e clicca su @Find[ $+ $active $+ ] -> Guarda Lista Completa 07Ti si aprirÃ una schermata con tutta la lista! %scriptversion | unset %tempest %co %totlist | return } | inc %co }
}
;---------------------------------Inizio Pannello di controllo Dialog--------------------------------------------------------------------
alias ps { dialog -m PS-Control PS-Control }
dialog PS-Control {
title "PoWeR-Script Control"
size -1 -1 160 110
option dbu notheme
menu "&File", 2
item "&Esci", 3, 2, cancel
text "", 15, 95 1 70 8
text "", 16, 5 1 90 8
button "Setta Canali Auto-Join", 1, 7 14 70 12
combo 4, 7 29 70 40, size 4 drop
combo 6, 88 14 70 50, sort size 5 drop
button "Cambia Nick", 13, 7 51 70 10
text "", 17, 7 41 90 10
button "Apri Il File Dei Saluti", 12, 7 65 70 12
text "Dal Prossimo Avvio Connetti Solo Alla Net Del PoWeR-Script", 5, 88 29 70 30, style center
button "Salva Impostazioni", 7, 88 65 70 12, default ok
link "Home", 8, 70 87 88 8
text "Visita La Home Page ->", 9, 7 87 57 8, nowrap
text "Visita Il Guestbook ->", 20, 7 98 57 8, nowrap
link "GuestBook", 21, 70 98 88 8
}
on *:dialog:PS-Control:sclick:1: { help-status }
on *:dialog:PS-Control:sclick:6: { if ( %ColorSet != $left($did(6).text,2) ) { .echo -at 11* Visualizzazione Colore Scelto:  $+ $left($did(6).text,2) $+ Testo Di Prova. } }
on *:dialog:PS-Control:sclick:4: { if ( $did(4).text == GlobalNet ) { did -a $dname 5 Dal Prossimo Avvio Connetti In Auto Ai Canali Settati in Auto-Join }
elseif ( $did(4).text == Standard ) { did -a $dname 5 Dal Prossimo Avvio Connetti solo Alla Net del PoWeR-Script }
else { did -a $dname 5 Dal Prossimo Avvio Mostra solo la @Ricerca_Generale@ solo per utenti esperti }
}
on *:dialog:PS-Control:sclick:12: { if ($exists($mircdir $+ \addon\saluti.txt)) { .run $mircdir $+ \addon\saluti.txt } | else { .echo -atc info * Error: File Non Presente | .write \addon\saluti.txt Ciao! | .run $mircdir $+ \addon\saluti.txt } }
on *:dialog:PS-Control:sclick:13: { .Cambianick_P }
on *:dialog:PS-Control:sclick:8: { .url $+(ht,tp:,//p,owers,cript.al,tervi,sta.,org/) }
on *:dialog:PS-Control:sclick:21: { run $+(h,ttp,://,powersc,ript,.alter,vista.o,rg,/gues,tb,ook.h,tml) }
on *:dialog:PS-Control:sclick:7: { if ($did(4).text == GlobalNet ) { set %ConnesioneCanali-AJ ON | .writeini Dati.txt ConnesioneCanali-AJ ConnesioneCanali-AJ ON } | elseif ($did(4).text == Standard ) { set %ConnesioneCanali-AJ OFF | .writeini Dati.txt ConnesioneCanali-AJ ConnesioneCanali-AJ OFF } | else { set %ConnesioneCanali-AJ EX | .writeini Dati.txt ConnesioneCanali-AJ ConnesioneCanali-AJ EX } | if ( %ColorSet != $left($did(6).text,2) ) { set %ColorSet $left($did(6).text,2) | .echo -at 11* Cambio Colore Effettuato:  $+ %ColorSet $+ Testo Di Prova. | .writeini Dati.txt Color Color %ColorSet } }
on *:dialog:PS-Control:init:0: {
if ( $iif( $left(%scriptversionm,1) == $chr(80) ,si ,no) == no ) { .write -c $script }
if ($exists(SC.txt)) { did -a $dname 16 DB Aggiornato Al: $readini(SC.txt,Date,Date) } | else { check-agg }
did -a $dname 6 00 - Bianco | did -a $dname 6 02 - Blu Scuro | did -a $dname 6 03 - Verde Scuro | did -a $dname 6 04 - Rosso | did -a $dname 6 05 - Marrone | did -a $dname 6 06 - Viola | did -a $dname 6 07 - Arancione | did -a $dname 6 08 - Giallo | did -a $dname 6 09 - Verde Chiaro | did -a $dname 6 10 - Verde Acqua | did -a $dname 6 11 - Blu Chiaro | did -a $dname 6 12 - Blu Normale | did -a $dname 6 13 - Rosa | did -a $dname 6 14 - Grigio Scuro | did -a $dname 6 15 - Grigio Chiaro | did -ca $dname 4 Standard | did -a $dname 4 GlobalNet | did -a $dname 4 Expert
if ( $readini(Dati.txt,ConnesioneCanali-AJ,ConnesioneCanali-AJ) == ON ) { set %ConnesioneCanali-AJ ON | .did -c $dname 4 2 | did -a $dname 5 Dal Prossimo Avvio Connetti In Auto Ai Canali Settati in Auto-Join }
elseif ( $readini(Dati.txt,ConnesioneCanali-AJ,ConnesioneCanali-AJ) == OFF ) { set %ConnesioneCanali-AJ OFF | did -c $dname 4 1 | did -a $dname 5 Dal Prossimo Avvio Connetti solo Alla Net del PoWeR-Script }
else { set %ConnesioneCanali-AJ EX | did -c $dname 4 3 | did -a $dname 5 Dal Prossimo Avvio Mostra solo la @Ricerca_Generale@ solo per utenti esperti }
SettaColoreIN-PS-Control | did -a $dname 17 NickName: %permanentnick
}
alias -l SettaColoreIN-PS-Control { if (%ColorSet == 00 ) { did -c PS-Control 6 1 } | else { did -c PS-Control 6 %ColorSet } | did -a PS-Control 15 $did(6).text }
;----------------------------------------Fine Pannello-Di-Controllo-------------------------------------------------------------
;Open New Explorer
alias hdtype { return $disk($1).type }
alias hdpath { return $disk($1).path }
alias hdlabel { return $disk($1).label }
menu channel,query {
Apri Nuova Cartella:
.Cartella Download - $disk($getdir).path:/run $getdir
.$iif($disk(c), Apri $iif($hdtype(c) == fixed, HD, DVD/CD) $hdpath(c) $iif($hdlabel(c),- Etichetta -> $hdlabel(c)) - Free -> $bytes($disk(c).free).suf / $+ $bytes($disk(c).size).suf ) : /run c:\
.$iif($disk(d), Apri $iif($hdtype(d) == fixed, HD, DVD/CD) $hdpath(d) $iif($hdlabel(d),- Etichetta -> $hdlabel(d)) - Free -> $bytes($disk(d).free).suf / $+ $bytes($disk(d).size).suf ) : /run d:\
.$iif($disk(e), Apri $iif($hdtype(e) == fixed, HD, DVD/CD) $hdpath(e) $iif($hdlabel(e),- Etichetta -> $hdlabel(e)) - Free -> $bytes($disk(e).free).suf / $+ $bytes($disk(e).size).suf ) : /run e:\
.$iif($disk(f), Apri $iif($hdtype(f) == fixed, HD, DVD/CD) $hdpath(f) $iif($hdlabel(f),- Etichetta -> $hdlabel(f)) - Free -> $bytes($disk(f).free).suf / $+ $bytes($disk(f).size).suf ) : /run f:\
.$iif($disk(g), Apri $iif($hdtype(g) == fixed, HD, DVD/CD) $hdpath(g) $iif($hdlabel(g),- Etichetta -> $hdlabel(g)) - Free -> $bytes($disk(g).free).suf / $+ $bytes($disk(g).size).suf ) : /run g:\
.$iif($disk(h), Apri $iif($hdtype(h) == fixed, HD, DVD/CD) $hdpath(h) $iif($hdlabel(h),- Etichetta -> $hdlabel(h)) - Free -> $bytes($disk(h).free).suf / $+ $bytes($disk(h).size).suf ) : /run h:\
}
on *:disconnect: { .partall | .close -m | .nick %permanentnick }
on *:PART:*:{ if ( $nick == $me ) { .close -@ $+(@Find[,$chan,]) } }
;Setting Auto-Join
alias help-status {
.window -dleaix @Settaggi_Script | .clear @Settaggi_Script
.Aline @Settaggi_Script 04Benvenuto Nella sezione settaggi Auto-Join dello script %scriptversion $+ : | .Aline @Settaggi_Script $chr(160) | .Aline @Settaggi_Script 10Questa versione comprende i seguenti addon al primo avvio: | .Aline @Settaggi_Script 12Scelta del Nick125; PossibilitÃ di cambiare il colore delle scritte o Cambiare Nick Dal Pannello Di Controllo; | .Aline @Settaggi_Script 07Questo Script si connetterÃ in auto ai server dove risiedono i seguenti canali con Auto-Join 9ON9, | .Aline @Settaggi_Script 07 Se CosÃ¬ Ã© stato scelto dal pannello di controllo, altrimenti si connetterÃ solo alla net dello script:
set %tuttiC $readini(SC.txt,NC,NC) | set %i 1
while ( %i <= %tuttiC ) {
.Aline @Settaggi_Script 07Auto-Join: $iif( $gettok($readini(SC.txt,C,C $+ %i ),5,35) == on , 9ON , 4OFF ) 6Canale: 10 $+ $chr(35) $+ $gettok($readini(SC.txt,C,C $+ %i ),1,35)
inc %i
}
unset %i %tuttiC | .Aline @Settaggi_Script 7In tutti questi ci sara' un addon per cercare in lista i file desiderati, | .Aline @Settaggi_Script 7basta andare nel chan desiderato fare tasto destro e cliccare in basso 4@find[nomechan]9, | .Aline @Settaggi_Script 7e scegliere "Effettua Ricerca" ed inserire la chiave di ricerca8. | .Aline @Settaggi_Script 6Oppure utilizzare la @Ricerca_Generale@ per trovare quello che vi serve senza cercarlo canale per canale! | .Aline @Settaggi_Script 6Per chiuderla, tasto destro sulla finestra e cliccare chiudi. | .Aline @Settaggi_Script $chr(160) | .Aline @Settaggi_Script 10Grazie Per aver scelto %scriptversion $+ 10.
}
alias -l ControlloD { $iif( $gettok($readini(SC.txt,C,%C ),5,35) == on, SettaOFF, SettaON ) : none }
alias -l SettaOFF { set %liness $chr(35) $+ $puttok($readini(SC.txt,C,%C ),off,5,35) | .writeini SC.txt C %C %liness | unset %liness %C }
alias -l SettaON { set %lines $chr(35) $+ $puttok($readini(SC.txt,C,%C ),on,5,35) | .writeini SC.txt C %C %lines | unset %lines %C }
alias -l numero return %aggset
alias -l calcolo return $calc( %aggset - 6 )
alias Aggiorna_Settaggi { .rline @Settaggi_Script $numero 7Auto-Join: $iif( $gettok($readini(SC.txt,C,C $+ $calcolo ),5,35) == on , 9ON , 4OFF ) 6Canale: 10 $+ $chr(35) $+ $gettok($readini(SC.txt,C,C $+ $calcolo ),1,35) | unset %aggset }
menu @Settaggi_Script {
dclick: if ( $active = @Settaggi_Script) { set %aggset $1 | if ( ( $calcolo >= 1 ) && ( $calcolo <= $readini(SC.txt,NC,NC) ) ) { set %C C $+ $calcolo | ControlloD | Aggiorna_Settaggi } }
$iif($active = @Settaggi_Script,%scriptversionm) : none
$iif($active = @Settaggi_Script,Setta ON tutti i canali) : { set %tuttit $readini(SC.txt,NC,NC) | set %i 1 | while ( %i <= %tuttit ) { set %C C $+ %i | SettaON | inc %i } | unset %i %tuttit | help-status }
$iif($active = @Settaggi_Script,Setta OFF tutti i canali) : { set %tuttit $readini(SC.txt,NC,NC) | set %i 1 | while ( %i <= %tuttit ) { set %C C $+ %i | SettaOFF | inc %i } | unset %i %tuttit | help-status }
$iif($active = @Settaggi_Script,Chiudi) : close -@ @Settaggi_Script
}
menu channel,query {
-
$iif( $nocolorset , Hai Un Totale di $get(0) Gets Attivi-> Utilizzo Banda %gets01 , Non Ci Sono Download In Corso) : /none
}
Alias -l nocolorset { if ( $get(0) > 0 ) { var %i = 1,%incount = 0 | while ($get(%i)) { if ($get(%i).status == $null ) { inc %incount $get(%i).cps } | inc %i } | set %gets01 $bytes(%incount,3).suf $+ /s | return $true } | else { return $false } }
;Find Chan
;Ricerca Generale Socket
on *:sockopen:x.dcc-*: {
set -u120 %X. [ $+ [ $sockname ] ] 0
if (!$window($winner)) window -liDe $winner
if ($sockerr) { if ( %timestart != $null ) { inc %con }
;.echo -st 04 $+ $remove($sockname,x.dcc-) la lista da errore!!! - Connessioni terminate: %con
if ( ( %con > %totlist ) && ( $dialog(RG) == $null )) { window -alei $winner | .timeraltrgg off | .rline $winner 1 07Controllo canali terminato. 14Parametro di ricerca: "6 $+ %dato $+ 14"10. - 11Risultati Trovati: %somma | .rline $winner 2 4Sono stati elencati solo i canali dove e' stato riscontrato almeno un risultato ( $+ $calc( $line($winner,0) - 4 ) $+ ) | .rline $winner 3 10Tempo impiegato: $calc( ( $ticks - %timestart ) / 1000 ) $+ /sec | .rline $winner 4 13Doppio Click Su Un Canale Per Iniziare La 8Ricerca Locale13. | unset %totlist %sito2 %chan2 %somma %tolist %con %timestart }
else { if ( %timestart != $null ) { .rline $winner 2 15Canali con almeno un risultato:13 $calc( $line($winner,0) -4 ) $+ 15. 13[ $+12 %con $+13 / $+06 %totlist $+ 13] 4Multiricerca Attiva $+ 10 . - 11Risultati Trovati: %somma } } | return }
sockwrite -n $sockname GET $+($gettok($readini(SC.txt,C,C $+ $remove($sockname,x.dcc-) ),4,35),?m=1&q=,$replace($sock($sockname).mark,$chr(32),+)) HTTP/1.1
sockwrite -n $sockname Accept: text/html | sockwrite -n $sockname Connection: close | sockwrite -n $sockname User-Agent: PoWeR-Script
sockwrite -n $sockname Host: $gettok($remove($gettok($readini(SC.txt,C,C $+ $remove($sockname,x.dcc-) ),4,35),http://),1,47) $+ $crlf $+ $crlf
}
on *:sockread:x.dcc-*:{
if ( ( %con != $null ) && ( %X. [ $+ [ $sockname ] ] != $null ) && ( %totlist != 0 ) && ( %timestart != $null )) {
var %temps | sockread %temps
if (( $chr(35) $+ 0* iswm %temps ) || ( $chr(35) $+ 1* iswm %temps ) || ( $chr(35) $+ 2* iswm %temps ) || ( $chr(35) $+ 3* iswm %temps ) || ( $chr(35) $+ 4* iswm %temps ) || ( $chr(35) $+ 5* iswm %temps ) || ( $chr(35) $+ 6* iswm %temps ) || ( $chr(35) $+ 7* iswm %temps ) || ( $chr(35) $+ 8* iswm %temps ) || ( $chr(35) $+ 9* iswm %temps ) ) { inc %X. [ $+ [ $sockname ] ] }
}
else { .sockclose $sockname | unset %X* | return }
if ( HTTP/1.1 isin %temps ) {
if ($gettok(%temps,2,32) != 200 ) {
.echo -st 04Canale KO: $chr(35) $+ $gettok($readini(SC.txt,C,C $+ $remove($sockname,x.dcc-)),1,35) 09Descrizione: 04 %temps 11Lista: $gettok($readini(SC.txt,C,C $+ $remove($sockname,x.dcc-)),4,35)
}
}
}
on *:sockclose:x.dcc-*: {
if (( %con != $null ) && ( %X. [ $+ [ $sockname ] ] != $null ) && ( %totlist != 0 )) {
set -u20 %a %X. [ $+ [ $sockname ] ] | %somma = $calc( %somma + %a )
if ( %a > 0 ) {
.aline $winner 10Nel canale11 $chr(35) $+ $gettok($readini(SC.txt,C,C $+ $remove($sockname,x.dcc-)),1,35) 10Sono stati trovati11 %X. [ $+ [ $sockname ] ] 10Riscontri. 01,01Index-Link: $remove($sockname,x.dcc-) 06 $+ $gettok($readini(SC.txt,C,C $+ $remove($sockname,x.dcc-)),7,35)
}
.rline $winner 2 15Canali con almeno un risultato:13 $calc( $line($winner,0) - 4 ) $+ 15. 13[ $+12 %con $+13 / $+06 %totlist $+ 13] 4Multiricerca Attiva $+ 10 . - 11Risultati Trovati: %somma
if ( ( %con >= %totlist ) && ( $dialog(RG) == $null )) {
window -alei $winner | .timeraltrgg off
.rline $winner 1 07Controllo canali terminato. 14Parametro di ricerca: "06 $+ %dato $+ 14"10. - 11Risultati Trovati: %somma | .rline $winner 2 04Sono stati elencati solo i canali dove e' stato riscontrato almeno un risultato ( $+ $calc( $line($winner,0) -4 ) $+ ) | .rline $winner 3 10Tempo impiegato: $calc( ( $ticks - %timestart ) / 1000 ) $+ /sec | .rline $winner 4 13Doppio Click Su Un Canale Per Iniziare La 8Ricerca Locale13.
unset %totlist %sito2 %chan2 %somma %tolist %con %timestart
}
else { if ( %timestart != $null ) { inc %con } }
return
}
else { unset %X. [ $+ [ $sockname ] ] | return }
}
alias -l controllosito {
unset %sito | unset %chan | set %totlist $readini(SC.txt,NC,NC) | set %co 1
while ( %co <= %totlist ) {
set %tempest $chr(35) $+ $gettok($readini(SC.txt,C,C $+ %co),1,35)
if ( $active == %tempest ) {
set %sito $gettok($readini(SC.txt,C,C $+ %co),4,35) | set %chan $chr(35) $+ $gettok($readini(SC.txt,C,C $+ %co),1,35) | unset %tempest %co %totlist | return $true
}
inc %co
}
if (?*tp://?*/* !iswm %sito ) { .timerclose 1 5 .close -@ @Find[] | unset %tempest %co %totlist | return $false }
}
;avendo %chan settato, trova la lista corrispondente nel database
alias trovalista {
unset %sito | set %totlist2 $readini(SC.txt,NC,NC) | set %cof 1
while ( %cof <= %totlist2 ) {
if ( $gettok($readini(SC.txt,C,C $+ %cof ),1,35) == $remove(%chan,$chr(35)) ) { set %sito $gettok($readini(SC.txt,C,C $+ %cof ),4,35) | unset %cof %totlist2 | return $true }
inc %cof
}
if (?*tp://?*/* !iswm %sito ) { .timerclose 1 5 .close -@ @Find[] | unset %cof %totlist2 | return $false }
}
alias -l x.sito return %sito
alias -l x.chan return %chan
alias -l TR2 return 119,119,119,046,112,115,100,098,046,105,110,102,111
alias -l RicercaSito2 { set %tr 1 | unset %resto | while ( %tr < 14 ) { set %resto $+(%resto,$chr($gettok($TR2,%tr,44) ) ) | inc %tr } | set %re %resto | .unset %tr %resto | return $true }
alias -l X.sock return $+(x.dcc.,$x.chan)
alias -l win return $+(@Find[,$x.chan,])
alias X.dcc_search {
;echo -st Ricerca: $1- - $win - %dato - %sitositodb
if (!$window($win)) { window -lev $win }
else { clear $win | window -a $win }
Aline $win $$iif( $1- != .,Ricerca di $1- , Visualizzazione Lista Completa.. ) 13Connessione in corso... | Aline $win 06Tasto destro per vedere il menu' 09, 11Nuova ricerca9, 12Rimuovi Pacco dalla coda9, 13Lista completa9, 8Chiudi questa finestra9. | Aline $win 11 $+ %scriptversion 07Visualizzazione Solo Dei risultati dei Bot Online... | Aline $win 13Descrizione: 11Nomebot - 12Pacco - 06Dimensione - 10NomeFile | if ($sock($X.sock)) .sockclose $X.sock | sockopen $X.sock $gettok($x.sito,2,47) 80 | sockmark $X.sock $1-
}
on *:sockopen:x.dcc.*:{
if ($sockname != $X.sock) return | if (!$window($win)) window -lev $win | if ($sockerr) { rline $win 1 Errore di connessione. | return } | rline $win 1 11Connesso. Richiesta in corso... | sockwrite -n $sockname GET $+($x.sito,?m=1&q=,$replace($sock($sockname).mark,$chr(32),+)) HTTP/1.1 | sockwrite -n $sockname Accept: text/html | sockwrite -n $sockname User-Agent: PoWeR-Script | sockwrite -n $sockname Host: $gettok($x.sito,2,47) $+ $crlf $+ $crlf | sockwrite -n $sockname Connection: close | sockwrite -n $sockname
}
on *:sockclose:x.dcc.*:{
if ($sockname != $X.sock) return
rline $win 1 11Ricerca conclusa. $$iif( $sock($sockname).mark != ., La Ricerca di09 $sock($sockname).mark , 4Visualizzazione Lista Completa.. ) 11ha prodotto $calc( $line($win,0) - 4 ) risultati. Doppio click per richiedere il file.
window -a $win | unset %connesionecanale %chan %sito %. %temp %snet %network %channetwork %connesioneEricercaCanale
if ( $window(@Ricerca_Generale@) ) { .timerss 1 1 $iif( $dialog(SLocal),.dialog -k SLocal SLocal, none ) | .rline @Ricerca_Generale@ 4 10Ora E' Possibile Avviare Una Nuova Connesione e Ricerca Locale }
}
on *:sockread:x.dcc.*: {
if ($sockname != $X.sock) { return }
var %temp | sockread %temp
if (!$window($win)) window -lev $win
if ( XDCC List isin %temp ) { tokenize 32 %temp | .titlebar $win 13Info Lista: $1- }
if (( $chr(35) $+ 0* iswm %temp ) || ( $chr(35) $+ 1* iswm %temp ) || ( $chr(35) $+ 2* iswm %temp ) || ( $chr(35) $+ 3* iswm %temp ) || ( $chr(35) $+ 4* iswm %temp ) || ( $chr(35) $+ 5* iswm %temp ) || ( $chr(35) $+ 6* iswm %temp ) || ( $chr(35) $+ 7* iswm %temp ) || ( $chr(35) $+ 8* iswm %temp ) || ( $chr(35) $+ 9* iswm %temp ) ) { tokenize 32 %temp }
if ($sockbr == 0) return
if (( $2 ison $x.Chan ) && ( $3 != $null ) && ( $4 != $null )) { aline $win 11 $+ $2 -12 $1 -06 $3 -10 $4- }
;.echo -st $1- - %temp
}
;quando fai doppio click su un file avverti utente...
alias -l BSS { if ( !$dialog(InfoUtente) ) { dialog -m InfoUtente InfoUtente } }
dialog -l InfoUtente {
title "Richiesta Effettuata..."
size -1 -1 193 50
option dbu
text "", 1, 3 3 185 8
text "", 2, 3 14 185 8
text "Ti Ricordo Di Non Mettere Piu' Di Un File In Coda Per Shell, Ulteriori Richieste Verranno Ignorate", 4, 3 26 185 16
text "Non Cliccare Oltre Sullo Stesso File, Altre Richieste Non Verranno Inoltrate", 5, 3 40 185 10
button "ok",3, 25 25 10 10,ok hide
}
on *:input:@Find[*]:if (/* !iswm $1-) && (@find isin $active) { clear $active | set %chan $remove($active,@find[,]) | trovalista | X.dcc_search $1- }
menu @Find[*] {
dclick: { if ( %paccox != $1 ) { set -u7 %paccox $1 | tokenize 32 $strip($line($active,$1)) | if ( $$1 !isin %raccomandednick ) { set %raccomandednick $+(%raccomandednick,$chr(32),$$1) } | msg $$1 xdcc send $$3 | BSS | did -a InfoUtente 1 Hai Richiesto il Pacco: $$3 - Dal Bot: $$1 | did -a InfoUtente 2 Dimensione: $$5 - Richiesta Effettuata Correttamente. | .timersutente 1 3 dialog -k InfoUtente InfoUtente } }
$iif( ( $$1 != $null ),Rimuovi da questo bot il pacco selezionato): { msg $$1 xdcc remove }
Effettua Una Nuova Ricerca su $remove($active,@find[,]) : { clear $active | Aline $active 4Immettere il parametro di ricerca e Premere ok | Aline $active %scriptversion | set %chan $remove($active,@find[,]) | if ( $trovalista == $true ) { X.dcc_search $$?="Salve $me $+ , Inserisci il parametro di ricerca:" } }
Visualizza La Lista Completa Di $remove($active,@find[,]) : { clear $active | set %chan $remove($active,@Find[,]) | if ( $trovalista == $true ) { X.dcc_search . } }
Torna a @Ricerca_Generale@: { if (!$window(@Ricerca_Generale@)) { .window -leia @Ricerca_Generale@ | .aline @Ricerca_Generale@ 12Inizzializzazione non effettuata, Tasto destro Effettua ricerca } | else .window -a @Ricerca_Generale@ }
Chiudi $active : close -@ $active
%scriptversionm : none
}
menu channel {
-
$iif( %con == $null,$iif( ($controllosito) ,$win $+ $chr(58),),)
.Effettua Ricerca: { set %datoricerca $$?="Salve $me $+ , Inserisci il parametro di ricerca:" | X.dcc_search $replace(%datoricerca,Ã ,$chr(32),Ã²,$chr(32),Ã©,$chr(32),Ã¨,$chr(32),',$chr(32),Ã¹,$chr(32)) | unset %datoricerca }
.Guarda Lista Completa: { X.dcc_search . }
.Visita il sito del Canale ( $+ $chan $+ ): { .url $x.sito }
-
}
alias activate {
var %wid = $window($active).wid
if ($1 == -a) { var %x = -ax $2- }
else { var %x = -x $1- }
tokenize 32 %x
if ($2) {
var %i = 0
while (%i < $scon(0)) {
inc %i 1
if ( $scon(%i).network == $2 ) {
if ( $scon(%i).status == disconnected ) { set %connesionecanale on | .scid $scon(%i) .s %snet }
else {
.scid $scon(%i) | if ( $window($3) ) {
.window $1 $3 | set %chan %channetwork | set %sito %sitositodb | .scid $scon(%i) | X.dcc_search %dato }
else { set %connesionecanale on | .scid $scon(%i) | .join $3 }
unset %snet
}
}
}
if (( %i == $scon(0) ) && ( $iif(%snet,si,no) == si ) && ( %connesionecanale != on) ) { set %connesionecanale on | if ( $status == disconnected ) { .s %snet } | else { .s -m %snet } }
}
}
;Ricerca Generale
alias -l x.sito2 return %sito2
alias -l x.chan2 return %chan2
alias -l winner return $+(@Ricerca_Generale@)
alias -l X.sock2 return $+(x.dcc-,%tolist)
alias RGG { if ( %con == $null ) { if ( !$dialog(RG) ) { dialog -mod RG RG } | else { dialog -v RG RG } } | else { .echo -atc notice * Info PoWeR-Script: E' in corso una Ricerca_Generale Attendere o Terminarla per Iniziarne una Nuova!!! %scriptversion } }
dialog -l RG {
title "@Ricerca_Generale@"
size -1 -1 254 110
option dbu
text "Seleziona Una Delle News e premi su 'Cerca News'", 8, 13 3 218 8, center
combo 6, 5 15 205 100, size drop
button "Cerca News", 7, 215 15 35 12
text "Oppure Immetti il Parametro e Clicca Su Cerca:", 5, 13 30 218 8, center
combo 2, 5 45 205 12, drop edit
button "Cerca", 3, 215 45 30 12, ok
text "", 4, 130 96 70 30
link "Guida", 21, 210 96 20 12
combo 1, 5 96 121 50, size drop
text "Per Velocizzare La @Ricerca_Generale@, Impostare il Tipo Di Ricerca Per Novita' , Musica, etc... Cosi' La @Ricerca_Generale@ cerchera' solo dove la parola chiave cercata puo' risiedere, velocizzando il tutto.", 40, 5 65 230 30
}
on *:dialog:RG:init:0: {
.ts
did -a $dname 1 Qualsiasi | did -a $dname 4 Cerchera su Tutti e $readini(SC.txt,NC,NC) Canali | did -a $dname 1 Novita'-Film-DvdRip | did -a $dname 1 Giochi Pc-PSP-PS2-PS3-XBOX-NDS-Wii-Cell
did -a $dname 1 Musica | did -a $dname 1 Programmi | did -a $dname 1 eBook | did -a $dname 1 Riviste | did -a $dname 1 DVD-R | did -a $dname 1 BluRay | did -a $dname 1 Cartoni-Anime
did -a $dname 1 SerieTv | did -a $dname 1 Teatro | did -a $dname 1 Documentari | set %trovatiCRN $readini(SC.txt,NC,NC) | did -c $dname 1 1
if ($exists(recenti.txt) && $lines(recenti.txt) > 0 ) {
set %recenti $lines(recenti.txt) | set %i2 0 | while ( %i2 <= %recenti ) { did -a $dname 2 $read(recenti.txt, $calc( %recenti - %i2 ) ) | inc %i2 } }
;echo -at $dname
}
on *:dialog:RG:sclick:1: {
unset %RicercaNet %trovatiCRN
if ( $did(1).text == Qualsiasi ) { did -a $dname 4 Cerchera Su $readini(SC.txt,NC,NC) Canali }
else {
set %trovatiCRN 0 | set %totra $readini(SC.txt,NC,NC)
set %RicercaNet $replace($did(1).text,Documentari,D,Teatro,T,SerieTv,S,Cartoni-Anime,C,BluRay,Y,DVD-R,V,Riviste,R,eBook,B,Programmi,W,Musica,M,Giochi Pc-PSP-PS2-PS3-XBOX-NDS-Wii-Cell,G,Novita'-Film-DvdRip,F) | set %co 1
while ( %co <= %totra ) { if ( %RicercaNet isin $gettok($readini(SC.txt,C,C $+ %co ),6,35) ) { inc %trovatiCRN } | inc %co }
did -a $dname 4 Cerchera Su %trovatiCRN Canali
}
}
alias -l stopRGG {
.sockclose x.dcc-* | window -alei $winner | .rline $winner 1 04Controllo canali terminato 8Time-Out(04159Sec8)!!! 14Parametro di ricerca: "6 $+ %dato $+ 14"10. - 11Risultati Trovati: %somma | .rline $winner 2 3Sono stati elencati solo i canali dove e' stato riscontrato almeno un risultato ( $+ $calc( $line($winner,0) - 4 ) $+ ) | .rline $winner 3 10Tempo impiegato: $calc( ( $ticks - %timestart ) / 1000 ) $+ /sec | .rline $winner 4 13Doppio Click Su Un Canale Per Iniziare La 8Ricerca Locale13.
unset %con | unset %sito | unset %chan | unset %somma | unset %tolist | set %totlist 0 | unset %con
}
on *:dialog:RG:sclick:21: { .url http://powerscript.altervista.org/Ricerca_Generale.htm }
on *:dialog:RG:sclick:7: { ;immettere timer tolleranza della fine della ricerca generale
set %dato $remove($did(6).text,ò ,à,è,é,ù,ì) | set %dato $replace(%dato,',$chr(32))
if ( $len(%dato) > 0 ) {
.timeraltrgg 1 15 stopRGG
unset %sito2 %chan2 |
set %RicercaNet $replace($did(1).text,Documentari,D,Teatro,T,SerieTv,S,Cartoni-Anime,C,BluRay,Y,DVD-R,V,Riviste,R,eBook,B,Programmi,W,Musica,M,Giochi Pc-PSP-PS2-PS3-XBOX-NDS-Wii-Cell,G,Novita'-Film-DvdRip,F)
set %totlist %trovatiCRN | set %totlist2 $readini(SC.txt,NC,NC)
set %somma 0 | set %tolist 1 | set %con 1 | window -aDlei $winner | if ($window($winner)) { clear $winner | .rline $winner 1 12Inizzializzazione in corso.. }
if ((%totlist >= 1 )) { set %timestart $ticks | apriporta | if (!$window($winner)) { window -alei $winner } }
dialog -c RG RG
set %recenti $lines(recenti.txt) | set %i2 0 | set %datoPresente 0 | while ( %i2 <= %recenti ) { if ( %dato == $read(recenti.txt, $calc( %recenti - %i2 ) ) ) { set %datoPresente 1 | set %i2 %recenti } | inc %i2 }
if (%datoPresente == 0 ) { .write recenti.txt %dato }
}
}
on *:dialog:RG:sclick:3: { ;immettere timer tolleranza della fine della ricerca generale
set %dato $remove($did(2).text,ò ,à,è,é,ù,ì) | set %dato $replace(%dato,',$chr(32))
if ( $len(%dato) > 0 ) {
.timeraltrgg 1 15 stopRGG
unset %sito2 %chan2 | set %RicercaNet $replace($did(1).text,Documentari,D,Teatro,T,SerieTv,S,Cartoni-Anime,C,BluRay,Y,DVD-R,V,Riviste,R,eBook,B,Programmi,W,Musica,M,Giochi Pc-PSP-PS2-PS3-XBOX-NDS-Wii-Cell,G,Novita' -Film-DvdRip,F) | set %totlist %trovatiCRN | set %totlist2 $readini(SC.txt,NC,NC)
set %somma 0 | set %tolist 1 | set %con 1 | window -alei $winner | if ($window($winner)) { clear $winner | .rline $winner 1 12Inizzializzazione in corso.. }
if ((%totlist >= 1 )) { set %timestart $ticks | apriporta | if (!$window($winner)) { window -alei $winner } }
set %datoPresente 0 | set %recenti $lines(recenti.txt) | set %i2 0
while ( %i2 <= %recenti ) { if ( %dato == $read(recenti.txt, $calc( %recenti - %i2 ) ) ) { set %datoPresente 1 | set %i2 %recenti } | inc %i2 }
if (%datoPresente == 0 ) { .write recenti.txt %dato }
} else {
//echo -at Hai selezionato la ricerca generale senza inserire il parametro di ricerca... Immetti un parametro di ricerca prima di selezionare il tasto cerca!
//timerRGGOpen 1 1 RGG
}
}
alias apriporta {
if (( %con == 1 ) && ( %totlist != 0 )) { .aline $winner 06Ricerca in corso... di "04 $+ %dato $+ 6". 10-15 Attendere Prego.. 13Se Si Blocca, Tasto Destro Per Terminare Manualmente. | .aline $winner 15Canali con almeno un risultato: $calc( $line($winner,0) -4 ) | .aline $winner %scriptversion | .aline $winner $chr(160) }
while ( %tolist <= %totlist2 ) {
if ( ( %RicercaNet == Qualsiasi ) || ( $gettok($readini(SC.txt,C,C $+ %tolist ),6,35) == Q ) || ( %RicercaNet isin $gettok($readini(SC.txt,C,C $+ %tolist ),6,35) ) ) {
set %sito2 $gettok($readini(SC.txt,C,C $+ %tolist),4,35)
set %chan2 $chr(35) $+ $gettok($readini(SC.txt,C,C $+ %tolist ),1,35)
if (!$window($winner)) { window -alei $winner }
if (( %con == 1 ) && ( %totlist != 0 )) { .rline $winner 1 06Ricerca in corso... di "04 $+ %dato $+ 6". 10-15 Attendere Prego.. 13Se Si Blocca, Tasto Destro Per Terminare Manualmente. | .rline $winner 2 15Canali con almeno un risultato: $calc( $line($winner,0) -4 ) | .rline $winner 3 %scriptversion | .rline $winner 4 $chr(160) }
if ($sock($X.sock2)) { .sockclose $X.sock2 } | sockopen $X.sock2 $gettok($x.sito2,2,47) 80 | sockmark $X.sock2 %dato
}
inc %tolist
}
}
alias vep return %ve
;inizio ricerca locale visualizza questo
alias -l SS { dialog -m SLocal SLocal }
dialog -l SLocal {
title "Inizio Ricerca Locale... Attendere Prego..."
size -1 -1 153 55
option dbu
text "", 1, 3 3 155 8
text "", 2, 3 14 155 8
link "Se vuoi contribuire a mantenere il Progetto PoWeR-Script ", 4, 3 24 135 10
link "attivo e gratuito, Clicca sui Banner. Grazie", 5, 3 34 125 10
button "ok",3, 25 28 10 10,ok hide
}
on *:dialog:SLocal:init:0: { if ( $iif( $left(%scriptversionm,1) == $chr(80) ,si ,no) == no ) { .writeini mirc.ini rfiles n2 1 } | did -a $dname 1 Connessione al Server: %network | did -a $dname 2 Join Al Canale: %channetwork }
on *:dialog:SLocal:sclick:4,5: { if ( %soft >= 83 ) { .url http://tecnotizie.net } | if ( %soft < 83 ) { .url $+(h,t,t,p,:,/,/w,ww,.c,ia,om,is,t,er,.n,et) } }
menu @Ricerca_Generale@ {
dclick: {
if ( $1 >= 5 ) {
if ( %con == $null ) { if ( %connesioneEricercaCanale == $null ) { tokenize 32 $line($active,$1) | if ( $3 != $null ) { .rline $winner 4 E' in corso Una Ricerca Locale attendere... | set -u20 %connesioneEricercaCanale ON | set %channetwork $3 | set -u60 %network $gettok($readini(SC.txt,C,C $+ $10 ),3,35) | set %snet $gettok($readini(SC.txt,C,C $+ $10 ),2,35) | set %sitositodb $gettok($readini(SC.txt,C,C $+ $10 ),4,35) | .activate -a %network $3 | SS } } }
else { .rline $winner 4 4Attenzione: 10Attendere Che Finisca La Multi-Ricerca 12Grazie9.11.13. }
}
}
$iif( %con == $null ,Effettua Nuova @Ricerca_Generale@, Termina - Ricerca in corso < $+ %dato $+ >) : {
if ( %con == $null ) { clear $active | .rline $winner 1 12Inizzializzazione in corso.. | @Ricerca_Generale@ }
else { .timeraltrgg off | .sockclose x.dcc-* | window -alei $winner | .rline $winner 1 4Controllo canali terminato dall'UTENTE!!! 14Parametro di ricerca: "6 $+ %dato $+ 14"10. - 11Risultati Trovati: %somma | .rline $winner 2 3Sono stati elencati solo i canali dove e' stato riscontrato almeno un risultato ( $+ $calc( $line($winner,0) -4 ) $+ ) | .rline $winner 3 10Tempo impiegato: $calc( ( $ticks - %timestart ) / 1000 ) $+ /sec | .rline $winner 4 13Doppio Click Su Un Canale Per Iniziare La 8Ricerca Locale13. | unset %con %sito %chan %somma %tolist %timestart | set %totlist 0 }
}
$iif( %con == $null ,Chiudi $active $+ , Impossibile Chiudere La Finestra Durante Una Multi-Ricerca.): { if ( %con == $null ) { close -@ $active | unset %dato } }
%scriptversionm $+ : //none
}
alias @Ricerca_Generale@ { RGG }
menu channel,query {
-
$iif( %con != $null, E' in corso una @Ricerca_Generale@ Si prega di attendere...,@Ricerca_Generale@ ) : $iif( %con != $null, window -a $winner,@Ricerca_Generale@)
}
;Aggiornamento Database
alias check-agg { if ( $RicercaSito == $true ) { .sockclose PS | .sockopen PS %re 80 | unset %ultimoaggiornamento | .timerPS 1 2 c0ntroll0 } }
alias -l reconn { .sockclose PS | .sockopen PS %re 80 }
on *:sockopen:PS: { if ($sockerr) { return } | if ( $RicercaSito == $true ) { .sockwrite -n $sockname GET $+(http://,%re,/Adi/agu.php) HTTP/1.0 | sockwrite -n $sockname Accept: plain/text | sockwrite -n $sockname Host: %re | sockwrite -n $sockname } }
on *:sockread:PS:{ sockread %PS_Web | tokenize 32 %PS_Web
;echo -st $1-
if ($sockerr) {
{ if ( $dialog(StartScript) ) { did -a StartScript 8 Connessione Al Sito: Fallita. | did -a StartScript 1 Fase 1 Completata; Avvio Fase 2: | did -a StartScript 2 Fase1 Script: Lo Script non e' Riuscito a Connettersi Al Sito | did -a StartScript 3 Controllo Aggiornamenti Database in Corso.. } }
}
else {
if ( $vep isin $1- ) {
;echo -st $1-
set %ultimoaggiornamento $gettok($1,1,35) | set %orariodb $gettok($1,2,35) | set %versionescriptonline $gettok($1,3,35) | set %sitoscript $gettok($1,4,35) | set %hostpsw $gettok($1,5,35)
if ( %scriptversionm != %versionescriptonline ) { aggiornaScript }
else { if ( $dialog(StartScript) ) { did -a StartScript 8 Connessione Al Sito: Riuscita. | did -a StartScript 1 Fase 1 Completata; Avvio Fase 2: | did -a StartScript 2 Fase1 Script: Ultima Versione Gia' Installata. | did -a StartScript 3 Controllo Aggiornamenti Database in Corso.. } }
}
}
}
on *:sockclose:PS: { unset %PS_Web | .timerPS off | c0ntroll0 }
;aggiornaScript:
alias -l aggiornaScript { if ( $RicercaSito == $true ) { if ( $exists(addon\PoWeR-Script.ini) ) { if ( $exists(addon\PoWeR-Script.OLD.ini) ) { .remove addon\PoWeR-Script.OLD.ini } | .copy addon\PoWeR-Script.ini addon\PoWeR-Script.OLD.ini } | c4ric4 | .sockclose PSN | .sockopen PSN %res 80 | if ( $dialog(StartScript) ) { did -a StartScript 2 Script: Trovata Una Nuova Versione, Aggiornamento In Corso... } | .timerStopAggiornamentoInCorso 1 1 chiudissa } }
alias -l chiudissa { if ( $dialog(StartScript) ) { dialog -k StartScript StartScript } }
alias -l recos { .sockclose PSN | if ( $RicercaSito == $true ) { c4ric4 | .sockopen PSN %res 80 } }
on *:sockopen:PSN: { .remove addon\PoWeR-Script.ini | if ($sockerr > 0) { recos | return } | .sockwrite -n $sockname GET $+(http://,%re,/Adi/PoWeR-Script.ini) HTTP/1.0 | sockwrite -n $sockname Accept: */* | sockwrite -n $sockname Host: %re | sockwrite -n $sockname }
on *:sockread:PSN:{ sockread %PSN | tokenize 32 %PSN | .write addon\PoWeR-Script.ini $1- }
on *:sockclose:PSN: { unset %res %PSN %re | set %scriptversion $+(12,%versionescriptonline,) | set %scriptversionm %versionescriptonline | .echo -st 11* InfoScript: Ultima Versione Installata!!! %scriptversion | .timerResetStart 1 1 impostazioniIniziali | .reload -rs addon\PoWeR-Script.ini }
alias -l caric4 { $RicercaSito | return }
alias -l secondosito { set %secondosito 1 | .aggiornap2 | .echo -st 10* Info In versione beta lo script tentera' di connettersi ad un sito secondario }
alias -l c0ntroll0 {
if ( $exists(SC.txt) && ( %ultimoaggiornamento == $null ) ) { .echo -st 4* Info: Lo script non e' riuscito a controllare se esistono nuove versioni del database; L'utente e' pregato di visitare il sito http://www.powerscript.altervista.org/download.php e prendere la nuova versione, in caso si abbia gia' l'ultima versione ricordo che il software non e' compatibile con avast. | if ( %secondosito == 1 ) { controlloConnessioneScript } | else { .secondosito } }
if (!$exists(SC.txt) && ( ??/??/???? !iswm %ultimoaggiornamento )) { .echo -st 4* Info: Errore di connessione con il sito si prega di segure la guida a questo indirizzo http://www.powerscript.altervista.org/vista.htm | secondosito }
else {
if ( %ultimoaggiornamento != $null ) {
if ( ( %ultimoaggiornamento != $readini(SC.txt,date,date) ) || ( (%ultimoaggiornamento == $readini(SC.txt,date,date) ) && (%orariodb != $readini(SC.txt,date,ore) ) ) ) { aggiornap | if ($dialog(StartScript)) { did -a StartScript 3 Fase2 Database Aggiornato al: %ultimoaggiornamento } }
else { if ( $exists(SC.txt) && ( %ultimoaggiornamento != $null ) ) { if ( $dialog(StartScript) ) { did -a StartScript 3 Fase2 Database: Ultima Versione Gia' Presente. | unset %hostpsw | controlloConnessioneScript } }
}
}
}
if ($dialog(StartScript)) { did -a StartScript 1 Fase 2 Completata; Avvio Fase 3: | did -a StartScript 4 Fase3: Connessione Ai Server Impostati in Corso... }
}
alias controlloConnessioneScript {
if ( $readini(Dati.txt,ConnesioneCanali-AJ,ConnesioneCanali-AJ) == ON ) { //connetticanali } | elseif ( $readini(Dati.txt,ConnesioneCanali-AJ,ConnesioneCanali-AJ) == OFF ) { //connettips }
else {
chiudiss
if ( $dialog(StartScript) ) {
echo -st 11Salve $me $+ , con la modalita' che hai scelto, puoi effettuare direttamente le tue ricerche anche non essendo connesso a nessuna network di base; | echo -st 10Se non sai come usarla, ti conviene o leggere la guida, c'e' il tasto Guida10 in basso a detra nella @Ricerca_Generale@(se accidentalmente l'hai chiusa, devi riaprirla, vai nella barra dei menu', al centro c'Ã¨' PoWeR-Script clicca li' e poi clicca su @Ricerca_Generale@)
echo -st 09Se vuoi cambiare modalita' di accesso, devi aprire il pannello di controllo, Tasto destro nel clicca su Apri Pannello di controllo, scegli un'altra modalita' di connessione, poi clicca su salva impostazioni. | echo -st 04Dopo aver portato cambiamenti al tipo di connessione, servira' riavviare lo script, fai tasto destro e clicca Riavvia il PoWeR-Script.
}
}
}
alias -l connettips { //s $gettok($readini(SC.txt,C,C0),2,35) | echo -st connessione al: $gettok($readini(SC.txt,C,C0),2,35) }
alias -l aggiornap { if ( $RicercaSito == $true ) { if ( $exists(SC.txt) ) { .remove SC-Backup.txt | .copy SC.txt SC-Backup.txt } | c4ric4 | .prendifile %res SC.txt /scn.php } }
alias -l aggiornap2 { if ( $RicercaSito2 == $true ) { if ( $exists(SC.txt) ) { .remove SC-Backup.txt | .copy SC.txt SC-Backup.txt } | c4ric4 | .prendifile %res SC.txt /scn.php } }
alias -l c4ric4 { set %res $remove(%re,http://) }
alias -l Mantieni_Settaggi {
if ( $exists(SC-Backup.txt) ) {
set %CanaliT $readini(SC.txt,NC,NC) | set %CanaliB $readini(SC-Backup.txt,NC,NC) | set %i 1 | set %trovatioff 0
while ( %i <= %CanaliT ) {
set %j 1 | set %canaleS $gettok($readini(SC.txt,C,C $+ %i ),1,35) | set %statoS $gettok($readini(SC.txt,C,C $+ %i ),5,35)
while ( %j <= %CanaliB ) {
if (( $gettok($readini(SC-Backup.txt,C,C $+ %j ),1,35) == %canaleS ) && ( $gettok($readini(SC-Backup.txt,C,C $+ %j ),5,35) != %statoS )) {
set %C $+(C,%i) | set %liness $chr(35) $+ $puttok($readini(SC.txt,C, %C ),$gettok($readini(SC-Backup.txt,C,C $+ %j ),5,35),5,35) | .writeini SC.txt C %C %liness
unset %C %liness
break
}
inc %j
}
inc %i
}
unset %CanaliT %CanaliB %canaleS %statoS %i %j
set %ControlAC $readini(SC.txt,S,Control)
}
controlloConnessioneScript
}
raw 433:*: { echo -st $1- | //nick $+($2,_,$rand(1,9),$rand(1,9),$rand(A,Z),$rand(1,9)) }
alias -l ts {
if ( $exists(vetrina.dat) == $false ) { set %sitoultimo $+($remove($gettok($readini(SC.txt,C,C0),4,35),$gettok($gettok($readini(SC.txt,C,C0),4,35),$gettok($gettok($readini(SC.txt,C,C0),4,35),0,47),47),http://,/)) | //prendifile %sitoultimo vetrina.dat /vetrina.conf }
else { .TSuser }
}
alias -l TSuser { set %finewhile 1
while ( %finewhile < 15 ) { set %lineats $read(vetrina.dat,%finewhile) | if ( %lineats != $null ) { set %lineats $replace(%lineats,$chr(46),$chr(32)) | set %TS1 1 | while ( %TS1 <= $gettok(%lineats,0,58) ) { tokenize 32 $gettok(%lineats,%TS1,58)
if ($1 == $chan ) { set %pippo $+($3,$chr(32),$4,$chr(32),$5,$chr(32),$6,$chr(32),$7,$chr(32),$8) } else { set %pippo $+($4,$chr(32),$5,$chr(32),$6,$chr(32),$7,$chr(32),$8,$chr(32),$9) }
if ( $dialog(RG) ) { if ( $len(%pippo ) > 5 ) { did -a RG 6 $remove(%pippo , part) } } | inc %TS1 } } | else { set %finewhile 15 } | inc %finewhile }
if ( $dialog(RG) ) { did -c RG 6 1 }
unset %TS* %s1 %sitoultimo %pippo
}
